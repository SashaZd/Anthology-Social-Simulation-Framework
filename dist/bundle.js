(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.hobby_action = exports.work_action = exports.movie_friend_action = exports.eat_friend_action = exports.movie_action = exports.eat_action = void 0;
exports.eat_action = {
    name: "eat_action",
    requirements: [{ type: 0, op: 0, value: "restaurant" }],
    effects: [{ motive: 0, delta: 2 }],
    time_min: 60
};
exports.movie_action = {
    name: "movie_action",
    requirements: [{ type: 0, op: 0, value: "moive theatre" }],
    effects: [{ motive: 1, delta: 3 }],
    time_min: 120
};
exports.eat_friend_action = {
    name: "eat_friend_action",
    requirements: [{ type: 0, op: 0, value: "restaurant" }, { type: 1, op: 3, value: 1 }],
    effects: [{ motive: 0, delta: 2 }, { motive: 2, delta: 2 }],
    time_min: 70
};
exports.movie_friend_action = {
    name: "movie_friend_action",
    requirements: [{ type: 0, op: 0, value: "moive theatre" }, { type: 1, op: 3, value: 1 }],
    effects: [{ motive: 1, delta: 3 }, { motive: 2, delta: 2 }],
    time_min: 130
};
exports.work_action = {
    name: "work_action",
    requirements: [{ type: 0, op: 0, value: "moive theatre" }],
    effects: [{ motive: 3, delta: 1 }],
    time_min: 240
};
exports.hobby_action = {
    name: "hobby_action",
    requirements: [{ type: 0, op: 0, value: "home" }],
    effects: [{ motive: 4, delta: 2 }],
    time_min: 60
};

},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.run_sim = exports.execute_action = exports.select_action = exports.clamp = exports.ReqType = exports.BinOp = exports.Motive = void 0;
var Motive;
(function (Motive) {
    Motive[Motive["physical"] = 0] = "physical";
    Motive[Motive["emotional"] = 1] = "emotional";
    Motive[Motive["social"] = 2] = "social";
    Motive[Motive["financial"] = 3] = "financial";
    Motive[Motive["accomplishment"] = 4] = "accomplishment";
})(Motive = exports.Motive || (exports.Motive = {}));
var BinOp;
(function (BinOp) {
    BinOp[BinOp["equals"] = 0] = "equals";
    BinOp[BinOp["greater_than"] = 1] = "greater_than";
    BinOp[BinOp["less_than"] = 2] = "less_than";
    BinOp[BinOp["geq"] = 3] = "geq";
    BinOp[BinOp["leq"] = 4] = "leq";
})(BinOp = exports.BinOp || (exports.BinOp = {}));
var ReqType;
(function (ReqType) {
    ReqType[ReqType["location"] = 0] = "location";
    ReqType[ReqType["people"] = 1] = "people";
    ReqType[ReqType["motive"] = 2] = "motive";
})(ReqType = exports.ReqType || (exports.ReqType = {}));
var time = 0;
function clamp(n, m, o) {
    if (n > m) {
        return m;
    }
    else if (n < o) {
        return o;
    }
    else {
        return n;
    }
}
exports.clamp = clamp;
function select_action(a, n) {
    var mdu = -26;
    var r = n[0];
    var i = 0;
    for (i = 0; i < n.length; i++) {
        var du = 0;
        var j = 0;
        for (j = 0; j < n[i].effects.length; j++) {
            switch (n[i].effects[j].motive) {
                case 0: {
                    du += clamp(n[i].effects[j].delta + a.physical, 5, 1) - a.physical;
                    break;
                }
                case 1: {
                    du += clamp(n[i].effects[j].delta + a.emotional, 5, 1) - a.emotional;
                    break;
                }
                case 2: {
                    du += clamp(n[i].effects[j].delta + a.social, 5, 1) - a.social;
                    break;
                }
                case 3: {
                    du += clamp(n[i].effects[j].delta + a.accomplishment, 5, 1) - a.accomplishment;
                    break;
                }
                case 4: {
                    du += clamp(n[i].effects[j].delta + a.financial, 5, 1) - a.financial;
                    break;
                }
                default: {
                    break;
                }
            }
        }
        du = du / n[i].time_min;
        if (du > mdu) {
            mdu = du;
            r = n[i];
        }
    }
    return r;
}
exports.select_action = select_action;
function execute_action(a, n) {
    console.log(a.name + ": " + n.name);
    var i = 0;
    for (i = 0; i < n.effects.length; i++) {
        switch (n.effects[i].motive) {
            case 0: {
                a.physical = clamp(a.physical + n.effects[i].delta, 5, 1);
                break;
            }
            case 1: {
                a.emotional = clamp(a.emotional + n.effects[i].delta, 5, 1);
                break;
            }
            case 2: {
                a.social = clamp(a.social + n.effects[i].delta, 5, 1);
                break;
            }
            case 3: {
                a.accomplishment = clamp(a.accomplishment + n.effects[i].delta, 5, 1);
                break;
            }
            case 4: {
                a.financial = clamp(a.financial + n.effects[i].delta, 5, 1);
                break;
            }
            default: {
                break;
            }
        }
    }
}
exports.execute_action = execute_action;
function run_sim(a, n, c) {
    while (c()) {
        console.log("time: " + time.toString());
        time += 1;
        var i = 0;
        for (i = 0; i < a.length; i++) {
            var choice = select_action(a[i], n);
            execute_action(a[i], choice);
        }
    }
    console.log("Finished.");
    // Sasha: Unsure if this is needed
    // return process.exit(0);
}
exports.run_sim = run_sim;

},{}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var engine = require("./execution_engine");
var actions = require("./action_specs");
var action_list = [actions.eat_action, actions.movie_action, actions.eat_friend_action, actions.movie_friend_action, actions.work_action, actions.hobby_action];
var a1 = {
    name: "John Doe",
    physical: 1,
    emotional: 1,
    social: 1,
    financial: 1,
    accomplishment: 1
};
var agent_list = [a1];
function condition() {
    var check = false;
    var i = 0;
    for (i = 0; i < agent_list.length; i++) {
        if (agent_list[i].physical < 5) {
            check = true;
            break;
        }
        if (agent_list[i].emotional < 5) {
            check = true;
            break;
        }
        if (agent_list[i].social < 5) {
            check = true;
            break;
        }
        if (agent_list[i].financial < 5) {
            check = true;
            break;
        }
        if (agent_list[i].accomplishment < 5) {
            check = true;
            break;
        }
    }
    return check;
}
engine.run_sim(agent_list, action_list, condition);
function showOnBrowser(divName, name) {
    var elt = document.getElementById(divName);
    elt.innerText = name + "Hello World!";
}
showOnBrowser("greeting", "TypeScript");

},{"./action_specs":1,"./execution_engine":2}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYWN0aW9uX3NwZWNzLnRzIiwic3JjL2V4ZWN1dGlvbl9lbmdpbmUudHMiLCJzcmMvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztBQ1NXLFFBQUEsVUFBVSxHQUNyQjtJQUNFLElBQUksRUFBRSxZQUFZO0lBQ2xCLFlBQVksRUFBRSxDQUFDLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBRSxFQUFFLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBQyxZQUFZLEVBQUMsQ0FBQztJQUNsRCxPQUFPLEVBQU8sQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ25DLFFBQVEsRUFBTSxFQUFFO0NBQ2pCLENBQUM7QUFFUyxRQUFBLFlBQVksR0FDdkI7SUFDRSxJQUFJLEVBQUUsY0FBYztJQUNwQixZQUFZLEVBQUUsQ0FBQyxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUUsRUFBRSxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsZUFBZSxFQUFDLENBQUM7SUFDckQsT0FBTyxFQUFPLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUNuQyxRQUFRLEVBQU0sR0FBRztDQUNsQixDQUFDO0FBRVMsUUFBQSxpQkFBaUIsR0FDNUI7SUFDRSxJQUFJLEVBQUUsbUJBQW1CO0lBQ3pCLFlBQVksRUFBRSxDQUFDLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBRSxFQUFFLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBQyxZQUFZLEVBQUMsRUFBRSxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUUsRUFBRSxFQUFDLENBQUMsRUFBRSxLQUFLLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDM0UsT0FBTyxFQUFPLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEtBQUssRUFBQyxDQUFDLEVBQUMs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bmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IHsgTW90aXZlIH0gZnJvbSBcIi4vZXhlY3V0aW9uX2VuZ2luZVwiO1xuaW1wb3J0IHsgQmluT3AgfSBmcm9tIFwiLi9leGVjdXRpb25fZW5naW5lXCI7XG5pbXBvcnQgeyBSZXFUeXBlIH0gZnJvbSBcIi4vZXhlY3V0aW9uX2VuZ2luZVwiO1xuaW1wb3J0IHsgVGhyZXNoIH0gZnJvbSBcIi4vZXhlY3V0aW9uX2VuZ2luZVwiO1xuaW1wb3J0IHsgUmVxdWlyZW1lbnQgfSBmcm9tIFwiLi9leGVjdXRpb25fZW5naW5lXCI7XG5pbXBvcnQgeyBFZmZlY3QgfSBmcm9tIFwiLi9leGVjdXRpb25fZW5naW5lXCI7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tIFwiLi9leGVjdXRpb25fZW5naW5lXCI7XG5pbXBvcnQgeyBBZ2VudCB9IGZyb20gXCIuL2V4ZWN1dGlvbl9lbmdpbmVcIjtcblxuZXhwb3J0IHZhciBlYXRfYWN0aW9uIDogQWN0aW9uID1cbntcbiAgbmFtZTogXCJlYXRfYWN0aW9uXCIsXG4gIHJlcXVpcmVtZW50czogW3t0eXBlOjAsIG9wOjAsIHZhbHVlOlwicmVzdGF1cmFudFwifV0sXG4gIGVmZmVjdHM6ICAgICAgW3ttb3RpdmU6MCwgZGVsdGE6Mn1dLFxuICB0aW1lX21pbjogICAgIDYwXG59O1xuXG5leHBvcnQgdmFyIG1vdmllX2FjdGlvbiA6IEFjdGlvbiA9XG57XG4gIG5hbWU6IFwibW92aWVfYWN0aW9uXCIsXG4gIHJlcXVpcmVtZW50czogW3t0eXBlOjAsIG9wOjAsIHZhbHVlOlwibW9pdmUgdGhlYXRyZVwifV0sXG4gIGVmZmVjdHM6ICAgICAgW3ttb3RpdmU6MSwgZGVsdGE6M31dLFxuICB0aW1lX21pbjogICAgIDEyMFxufTtcblxuZXhwb3J0IHZhciBlYXRfZnJpZW5kX2FjdGlvbiA6IEFjdGlvbiA9XG57XG4gIG5hbWU6IFwiZWF0X2ZyaWVuZF9hY3Rpb25cIixcbiAgcmVxdWlyZW1lbnRzOiBbe3R5cGU6MCwgb3A6MCwgdmFsdWU6XCJyZXN0YXVyYW50XCJ9LCB7dHlwZToxLCBvcDozLCB2YWx1ZToxfV0sXG4gIGVmZmVjdHM6ICAgICAgW3ttb3RpdmU6MCwgZGVsdGE6Mn0sIHttb3RpdmU6MiwgZGVsdGE6Mn1dLFxuICB0aW1lX21pbjogICAgIDcwXG59O1xuXG5leHBvcnQgdmFyIG1vdmllX2ZyaWVuZF9hY3Rpb24gOiBBY3Rpb24gPVxue1xuICBuYW1lOiBcIm1vdmllX2ZyaWVuZF9hY3Rpb25cIixcbiAgcmVxdWlyZW1lbnRzOiBbe3R5cGU6MCwgb3A6MCwgdmFsdWU6XCJtb2l2ZSB0aGVhdHJlXCJ9LCB7dHlwZToxLCBvcDozLCB2YWx1ZToxfV0sXG4gIGVmZmVjdHM6ICAgICAgW3ttb3RpdmU6MSwgZGVsdGE6M30sIHttb3RpdmU6MiwgZGVsdGE6Mn1dLFxuICB0aW1lX21pbjogICAgIDEzMFxufTtcblxuZXhwb3J0IHZhciB3b3JrX2FjdGlvbiA6IEFjdGlvbiA9XG57XG4gIG5hbWU6IFwid29ya19hY3Rpb25cIixcbiAgcmVxdWlyZW1lbnRzOiBbe3R5cGU6MCwgb3A6MCwgdmFsdWU6XCJtb2l2ZSB0aGVhdHJlXCJ9XSxcbiAgZWZmZWN0czogICAgICBbe21vdGl2ZTozLCBkZWx0YToxfV0sXG4gIHRpbWVfbWluOiAgICAgMjQwXG59O1xuXG5leHBvcnQgdmFyIGhvYmJ5X2FjdGlvbiA6IEFjdGlvbiA9XG57XG4gIG5hbWU6IFwiaG9iYnlfYWN0aW9uXCIsXG4gIHJlcXVpcmVtZW50czogW3t0eXBlOjAsIG9wOjAsIHZhbHVlOlwiaG9tZVwifV0sXG4gIGVmZmVjdHM6ICAgICAgW3ttb3RpdmU6NCwgZGVsdGE6Mn1dLFxuICB0aW1lX21pbjogICAgIDYwXG59O1xuIiwiZXhwb3J0IGVudW0gTW90aXZlIHtcbiAgcGh5c2ljYWwsXG4gIGVtb3Rpb25hbCxcbiAgc29jaWFsLFxuICBmaW5hbmNpYWwsXG4gIGFjY29tcGxpc2htZW50XG59XG5cbmV4cG9ydCBlbnVtIEJpbk9wIHtcbiAgZXF1YWxzLFxuICBncmVhdGVyX3RoYW4sXG4gIGxlc3NfdGhhbixcbiAgZ2VxLFxuICBsZXFcbn1cblxuZXhwb3J0IGVudW0gUmVxVHlwZSB7XG4gIGxvY2F0aW9uLFxuICBwZW9wbGUsXG4gIG1vdGl2ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRocmVzaCB7XG4gIG1vdGl2ZTogTW90aXZlLFxuICBvcDogICAgIEJpbk9wLFxuICB0aHJlc2g6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVpcmVtZW50IHtcbiAgdHlwZTogUmVxVHlwZSxcbiAgb3A6IEJpbk9wLFxuICB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWZmZWN0IHtcbiAgbW90aXZlOiBNb3RpdmUsXG4gIGRlbHRhOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb24ge1xuICBuYW1lOiBzdHJpbmcsXG4gIHJlcXVpcmVtZW50czogUmVxdWlyZW1lbnRbXSxcbiAgZWZmZWN0czogICAgICBFZmZlY3RbXSxcbiAgdGltZV9taW46ICAgICBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZ2VudCB7XG4gIG5hbWU6IHN0cmluZyxcbiAgcGh5c2ljYWw6IG51bWJlcixcbiAgZW1vdGlvbmFsOiBudW1iZXIsXG4gIHNvY2lhbDogbnVtYmVyLFxuICBmaW5hbmNpYWw6IG51bWJlcixcbiAgYWNjb21wbGlzaG1lbnQ6IG51bWJlclxufVxuXG52YXIgdGltZTpudW1iZXIgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAobjpudW1iZXIsIG06bnVtYmVyLCBvOm51bWJlcik6bnVtYmVyIHtcbiAgaWYgKG4gPiBtKSB7XG4gICAgcmV0dXJuIG07XG4gIH0gZWxzZSBpZiAobiA8IG8pIHtcbiAgICByZXR1cm4gbztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbjtcbiAgfVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfYWN0aW9uKGE6QWdlbnQsIG46QWN0aW9uW10pOkFjdGlvbiB7XG4gIHZhciBtZHU6bnVtYmVyID0gLTI2O1xuICB2YXIgcjpBY3Rpb24gPSBuWzBdO1xuICB2YXIgaTpudW1iZXIgPSAwO1xuICBmb3IgKGkgPSAwOyBpPG4ubGVuZ3RoOyBpKyspe1xuICAgIHZhciBkdTpudW1iZXIgPSAwO1xuICAgIHZhciBqOm51bWJlciA9IDA7XG4gICAgZm9yIChqID0gMDsgajxuW2ldLmVmZmVjdHMubGVuZ3RoOyBqKyspe1xuICAgICAgc3dpdGNoKG5baV0uZWZmZWN0c1tqXS5tb3RpdmUpe1xuICAgICAgICBjYXNlIDA6IHtcbiAgICAgICAgICBkdSArPSBjbGFtcChuW2ldLmVmZmVjdHNbal0uZGVsdGEgKyBhLnBoeXNpY2FsLCA1LCAxKSAtIGEucGh5c2ljYWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgZHUgKz0gY2xhbXAobltpXS5lZmZlY3RzW2pdLmRlbHRhICsgYS5lbW90aW9uYWwsIDUsIDEpIC0gYS5lbW90aW9uYWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgZHUgKz0gY2xhbXAobltpXS5lZmZlY3RzW2pdLmRlbHRhICsgYS5zb2NpYWwsIDUsIDEpIC0gYS5zb2NpYWw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzOiB7XG4gICAgICAgICAgZHUgKz0gY2xhbXAobltpXS5lZmZlY3RzW2pdLmRlbHRhICsgYS5hY2NvbXBsaXNobWVudCwgNSwgMSkgLSBhLmFjY29tcGxpc2htZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNDoge1xuICAgICAgICAgIGR1ICs9IGNsYW1wKG5baV0uZWZmZWN0c1tqXS5kZWx0YSArIGEuZmluYW5jaWFsLCA1LCAxKSAtIGEuZmluYW5jaWFsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkdSA9IGR1L25baV0udGltZV9taW47XG4gICAgaWYgKGR1ID4gbWR1KSB7XG4gICAgICBtZHUgPSBkdTtcbiAgICAgIHIgPSBuW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVfYWN0aW9uKGE6QWdlbnQsIG46QWN0aW9uKTp2b2lkIHtcbiAgY29uc29sZS5sb2coYS5uYW1lICsgXCI6IFwiICsgbi5uYW1lKTtcbiAgdmFyIGk6bnVtYmVyID0gMDtcbiAgZm9yIChpID0gMDsgaTxuLmVmZmVjdHMubGVuZ3RoOyBpKyspe1xuICAgIHN3aXRjaChuLmVmZmVjdHNbaV0ubW90aXZlKXtcbiAgICAgIGNhc2UgMDoge1xuICAgICAgICBhLnBoeXNpY2FsID0gY2xhbXAoYS5waHlzaWNhbCArIG4uZWZmZWN0c1tpXS5kZWx0YSwgNSwgMSlcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIDE6IHtcbiAgICAgICAgYS5lbW90aW9uYWwgPSBjbGFtcChhLmVtb3Rpb25hbCArIG4uZWZmZWN0c1tpXS5kZWx0YSwgNSwgMSlcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIDI6IHtcbiAgICAgICAgYS5zb2NpYWwgPSBjbGFtcChhLnNvY2lhbCArIG4uZWZmZWN0c1tpXS5kZWx0YSwgNSwgMSlcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIDM6IHtcbiAgICAgICAgYS5hY2NvbXBsaXNobWVudCA9IGNsYW1wKGEuYWNjb21wbGlzaG1lbnQgKyBuLmVmZmVjdHNbaV0uZGVsdGEsIDUsIDEpXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSA0OiB7XG4gICAgICAgIGEuZmluYW5jaWFsID0gY2xhbXAoYS5maW5hbmNpYWwgKyBuLmVmZmVjdHNbaV0uZGVsdGEsIDUsIDEpXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bl9zaW0oYTpBZ2VudFtdLCBuOkFjdGlvbltdLCBjOiAoKSA9PiBib29sZWFuKTphbnkge1xuICB3aGlsZSAoYygpKSB7XG4gICAgY29uc29sZS5sb2coXCJ0aW1lOiBcIiArIHRpbWUudG9TdHJpbmcoKSk7XG4gICAgdGltZSArPSAxO1xuICAgIHZhciBpOm51bWJlciA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKysgKSB7XG4gICAgICB2YXIgY2hvaWNlOkFjdGlvbiA9IHNlbGVjdF9hY3Rpb24oYVtpXSwgbik7XG4gICAgICBleGVjdXRlX2FjdGlvbihhW2ldLCBjaG9pY2UpO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZyhcIkZpbmlzaGVkLlwiKTtcbiAgXG4gIC8vIFNhc2hhOiBVbnN1cmUgaWYgdGhpcyBpcyBuZWVkZWRcbiAgLy8gcmV0dXJuIHByb2Nlc3MuZXhpdCgwKTtcbn1cbiIsImltcG9ydCAqIGFzIGVuZ2luZSBmcm9tIFwiLi9leGVjdXRpb25fZW5naW5lXCI7XG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gXCIuL2FjdGlvbl9zcGVjc1wiO1xuXG52YXIgYWN0aW9uX2xpc3Q6ZW5naW5lLkFjdGlvbltdID0gW2FjdGlvbnMuZWF0X2FjdGlvbiwgYWN0aW9ucy5tb3ZpZV9hY3Rpb24sIGFjdGlvbnMuZWF0X2ZyaWVuZF9hY3Rpb24sIGFjdGlvbnMubW92aWVfZnJpZW5kX2FjdGlvbiwgYWN0aW9ucy53b3JrX2FjdGlvbiwgYWN0aW9ucy5ob2JieV9hY3Rpb25dO1xuXG52YXIgYTE6ZW5naW5lLkFnZW50ID1cbntcbiAgbmFtZTogXCJKb2huIERvZVwiLFxuICBwaHlzaWNhbDogMSxcbiAgZW1vdGlvbmFsOiAxLFxuICBzb2NpYWw6IDEsXG4gIGZpbmFuY2lhbDogMSxcbiAgYWNjb21wbGlzaG1lbnQ6IDFcbn07XG5cbnZhciBhZ2VudF9saXN0OmVuZ2luZS5BZ2VudFtdID0gW2ExXTtcblxuZnVuY3Rpb24gY29uZGl0aW9uKCk6Ym9vbGVhbiB7XG4gIHZhciBjaGVjazpib29sZWFuID0gZmFsc2U7XG4gIHZhciBpOm51bWJlciA9IDA7XG4gIGZvciAoaSA9IDA7IGk8IGFnZW50X2xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYWdlbnRfbGlzdFtpXS5waHlzaWNhbCA8IDUpIHtcbiAgICAgIGNoZWNrID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYWdlbnRfbGlzdFtpXS5lbW90aW9uYWwgPCA1KSB7XG4gICAgICBjaGVjayA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGFnZW50X2xpc3RbaV0uc29jaWFsIDwgNSkge1xuICAgICAgY2hlY2sgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChhZ2VudF9saXN0W2ldLmZpbmFuY2lhbCA8IDUpIHtcbiAgICAgIGNoZWNrID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYWdlbnRfbGlzdFtpXS5hY2NvbXBsaXNobWVudCA8IDUpIHtcbiAgICAgIGNoZWNrID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hlY2s7XG59XG5cbmVuZ2luZS5ydW5fc2ltKGFnZW50X2xpc3QsIGFjdGlvbl9saXN0LCBjb25kaXRpb24pO1xuXG5mdW5jdGlvbiBzaG93T25Ccm93c2VyKGRpdk5hbWU6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gIGNvbnN0IGVsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdk5hbWUpO1xuICBlbHQuaW5uZXJUZXh0ID0gbmFtZSArIFwiSGVsbG8gV29ybGQhXCI7XG59XG5cbnNob3dPbkJyb3dzZXIoXCJncmVldGluZ1wiLCBcIlR5cGVTY3JpcHRcIik7XG4iXX0=
